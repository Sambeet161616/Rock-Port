--- ../rtt/CMakeLists.txt	2016-06-12 04:19:28.746152798 +0530
+++ ../patchstudy/CMakeLists_study.txt	2016-06-20 04:39:31.311253596 +0530
@@ -190,7 +190,8 @@
   VERSION "${RTT_VERSION}"
   CLEAN_DIRECT_OUTPUT 1)
 ENDIF ( BUILD_STATIC )
-
+  
+IF(NOT NOT_BUILD_SHARED)
   ADD_LIBRARY(orocos-rtt-${OROCOS_TARGET}_dynamic SHARED $ENV{GLOBAL_LIBRARY_SRCS})
   SET_TARGET_PROPERTIES( orocos-rtt-${OROCOS_TARGET}_dynamic PROPERTIES
   DEFINE_SYMBOL "RTT_DLL_EXPORT"
@@ -214,6 +215,7 @@
   IF (BUILD_ENABLE_COVERAGE)
 	target_link_libraries(orocos-rtt-${OROCOS_TARGET}_dynamic gcov)
   ENDIF (BUILD_ENABLE_COVERAGE)
+ENDIF(NOT NOT_BUILD_SHARED)
   IF (ROSLIB_SUPPORT)
         target_link_libraries(orocos-rtt-${OROCOS_TARGET}_dynamic ${ROS_LIBRARIES})
 	get_filename_component(ROS_LIBRARY_PATH "${ROS_LIBRARIES}" PATH)
@@ -235,14 +237,19 @@
 CONFIGURE_FILE( ${PROJ_SOURCE_DIR}/rtt/orocos-rtt.pc.in ${PROJ_BINARY_DIR}/rtt/orocos-rtt-${OROCOS_TARGET}.pc @ONLY)
 
 INSTALL(FILES ${CMAKE_CURRENT_BINARY_DIR}/orocos-rtt-${OROCOS_TARGET}.pc DESTINATION  lib/pkgconfig )
-INSTALL(TARGETS             orocos-rtt-${OROCOS_TARGET}_dynamic
-        EXPORT              ${LIBRARY_EXPORT_FILE}
-        LIBRARY DESTINATION lib
-		ARCHIVE DESTINATION lib
-        RUNTIME DESTINATION bin )
+
 IF(BUILD_STATIC)
   INSTALL(TARGETS             orocos-rtt-${OROCOS_TARGET}_static
           EXPORT              ${LIBRARY_EXPORT_FILE}
           ARCHIVE DESTINATION lib )
 ENDIF(BUILD_STATIC)
 
+IF(NOT NOT_BUILD_SHARED)
+   INSTALL(TARGETS             orocos-rtt-${OROCOS_TARGET}_dynamic
+        EXPORT              ${LIBRARY_EXPORT_FILE}
+        LIBRARY DESTINATION lib
+		ARCHIVE DESTINATION lib
+        RUNTIME DESTINATION bin )
+ENDIF(NOT NOT_BUILD_SHARED)
+ 
+
