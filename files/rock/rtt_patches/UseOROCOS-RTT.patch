--- ../UseOROCOS-RTT.cmake	2016-06-10 02:55:36.476061319 +0530
+++ ../patchstudy/UseOROCOS-RTT_study.cmake	2016-06-17 04:50:29.126637854 +0530
@@ -273,7 +273,10 @@
     if (ORO_USE_ROSBUILD)
       MESSAGE( STATUS "[UseOrocos] Building component ${COMPONENT_NAME} in library ${COMPONENT_LIB_NAME} in rosbuild source tree." )
       rosbuild_add_library(${COMPONENT_NAME} ${SOURCES} )
-    else()
+	  elseif(BUILD_STATIC)
+			MESSAGE( STATUS "[UseOrocos] Building component ${COMPONENT_NAME} in static library ${COMPONENT_LIB_NAME}" )
+    	ADD_LIBRARY( ${LIB_TARGET_NAME} STATIC ${SOURCES} )
+    elseif(NOT NOT_BUILD_SHARED)
       MESSAGE( STATUS "[UseOrocos] Building component ${COMPONENT_NAME} in library ${COMPONENT_LIB_NAME}" )
       ADD_LIBRARY( ${COMPONENT_NAME} SHARED ${SOURCES} )
     endif()
@@ -608,7 +611,10 @@
     MESSAGE( STATUS "[UseOrocos] Building typekit library ${LIB_TARGET_NAME}" )
     if (ORO_USE_ROSBUILD)
       rosbuild_add_library(${LIB_TARGET_NAME} ${SOURCES} )
-    else()
+    elseif(BUILD_STATIC)
+			MESSAGE( STATUS "[UseOrocos] Building component ${COMPONENT_NAME} in static library ${COMPONENT_LIB_NAME}" )
+    	ADD_LIBRARY( ${LIB_TARGET_NAME} STATIC ${SOURCES} )
+    elseif(NOT NOT_BUILD_SHARED)
       ADD_LIBRARY( ${LIB_TARGET_NAME} SHARED ${SOURCES} )
     endif()
     SET_TARGET_PROPERTIES( ${LIB_TARGET_NAME} PROPERTIES
@@ -688,7 +694,10 @@
     if (ORO_USE_ROSBUILD)
       MESSAGE( STATUS "[UseOrocos] Building plugin library ${LIB_TARGET_NAME} in rosbuild source tree." )
       rosbuild_add_library(${LIB_TARGET_NAME} ${SOURCES} )
-    else()
+		elseif(BUILD_STATIC)
+			MESSAGE( STATUS "[UseOrocos] Building  static plugin library ${LIB_TARGET_NAME}" )
+   		ADD_LIBRARY( ${LIB_TARGET_NAME} STATIC ${SOURCES} )
+  	elseif(NOT NOT_BUILD_SHARED)
       MESSAGE( STATUS "[UseOrocos] Building plugin library ${LIB_TARGET_NAME}" )
       ADD_LIBRARY( ${LIB_TARGET_NAME} SHARED ${SOURCES} )
     endif()
